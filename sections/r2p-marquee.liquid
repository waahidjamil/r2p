<!-- R2P Marquee Ticker -->
<style>
  .r2p-ticker {
    border-top: 1px solid var(--r2p-border);
    border-bottom: 1px solid var(--r2p-border);
    padding: 20px 0;
    overflow: hidden;
    background: var(--r2p-bg);
  }

  .r2p-ticker__track {
    display: flex;
    animation: r2p-marquee {{ section.settings.speed | default: 30 }}s linear infinite;
    white-space: nowrap;
    will-change: transform;
  }

  .r2p-ticker__item {
    display: inline-flex;
    align-items: center;
    gap: 2.5rem;
    padding: 0 2.5rem;
    flex-shrink: 0;
  }

  .r2p-ticker__text {
    font-family: var(--font-display);
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-style: italic;
    color: var(--r2p-text);
    white-space: nowrap;
  }

  .r2p-ticker__dot {
    width: 6px;
    height: 6px;
    background: var(--r2p-accent);
    border-radius: 50%;
    flex-shrink: 0;
  }
</style>

<section class="r2p-ticker" aria-label="Ticker">
  <div class="r2p-ticker__track">
    {%- for i in (1..12) -%}
      <div class="r2p-ticker__item">
        <span class="r2p-ticker__text">{{ section.settings.text_1 | default: 'Road 2 P$' }}</span>
        <span class="r2p-ticker__dot" aria-hidden="true"></span>
        {%- if section.settings.text_2 != blank -%}
          <span class="r2p-ticker__text">{{ section.settings.text_2 }}</span>
          <span class="r2p-ticker__dot" aria-hidden="true"></span>
        {%- endif -%}
        {%- if section.settings.text_3 != blank -%}
          <span class="r2p-ticker__text">{{ section.settings.text_3 }}</span>
          <span class="r2p-ticker__dot" aria-hidden="true"></span>
        {%- endif -%}
      </div>
    {%- endfor -%}
  </div>
</section>

{% schema %}
{
  "name": "R2P Marquee Ticker",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "text_1",
      "label": "Text 1",
      "default": "Road 2 P$"
    },
    {
      "type": "text",
      "id": "text_2",
      "label": "Text 2",
      "default": "Stay on the path"
    },
    {
      "type": "text",
      "id": "text_3",
      "label": "Text 3",
      "default": "Drop 03 Live"
    },
    {
      "type": "range",
      "id": "speed",
      "min": 10,
      "max": 60,
      "step": 5,
      "unit": "s",
      "label": "Speed (seconds)",
      "default": 30
    }
  ],
  "presets": [
    {
      "name": "R2P Marquee Ticker"
    }
  ]
}
{% endschema %}
